<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>lab-7</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
    integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
    crossorigin="anonymous"></script>
</head>

<body>
  <h1 style="color: blue;">Treasure hunt by uday</h1>
  <p>Click on the chests to search for treasure</p>
  <p style="font-size: small;" id="chests">Number of chests checked is zero.</p>
  <p style="font-size:medium;" id="score">Score is unknown.</p>
  <p style="font-size:large;" id="help">help report</p>
  <div class="row">
    <div class="col-sm-2"><img id="image1" onclick="check(0)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image2" onclick="check(1)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image3" onclick="check(2)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image4" onclick="check(3)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image5" onclick="check(4)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
  </div>
  <div class="row">
    <div class="col-sm-2"><img id="image6" onclick="check(5)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image7" onclick="check(6)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image8" onclick="check(7)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image9" onclick="check(8)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image10" onclick="check(9)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
  </div>
  <div class="row">
    <div class="col-sm-2"><img id="image11" onclick="check(10)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image12" onclick="check(11)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image13" onclick="help()" src="help.png" alt="help"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image14" onclick="check(13)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image15" onclick="check(14)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
  </div>
  <div class="row">
    <div class="col-sm-2"><img id="image16" onclick="check(15)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image17" onclick="check(16)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image18" onclick="check(17)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image19" onclick="check(18)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image20" onclick="check(19)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
  </div>
  <div class="row">
    <div class="col-sm-2"><img id="image21" onclick="check(20)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image22" onclick="check(21)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image23" onclick="check(22)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image24" onclick="check(23)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
    <div class="col-sm-2"><img id="image25" onclick="check(24)" src="closed.jpg" alt="box"
        style="width: 110px;height:110px;"></div>
  </div>
  <button onclick="resetGame()" class="btn btn-primary">game reset</button>
  <!-- <div class="container-fluid"> -->
  <!-- <h1>Responsive Columns</h1>
    <p>Resize the browser window to see the effect.</p>
    <p>The columns will automatically stack on top of each other when the screen is less than 576px wide.</p>
    <div class="row">
      <div class="col-sm-2" style="background-color:lavender;">.col-sm-2 this will span 2 columns and is contained inside a div element</div>
      <div class="col-md-3" style="background-color:lavenderblush;">.col-md-3</div>
      <div class="col-sm-2" style="background-color:lavender;">.col-sm-3</div>
      <div class="col-sm-5" style="background-color:lavenderblush;">.col-sm-3</div>
    </div>
  </div>
  
  <div class="container">
    <button type="button" class="btn btn-success btn-sm">Success in all things is my goal</button>
    <button type="button" class="btn btn-warning  btn-sm">Warning danger ahead</button>
    <button type="button" class="btn btn-danger btn-sm">Danger, can still go back</button>
    <button type="button" class="btn btn-link btn-sm">Link to the secret of life</button>
    </div> -->
  <script>
    let ids = ["image1", "image2", "image3", "image4", "image5", "image6", "image7", "image8", "image9", "image10",
      "image11", "image12", "image13", "image14", "image15", "image16", "image17", "image18", "image19", "image20", "image21",
      "image22", "image23", "image24", "image25"]
      let chestCount =0;
      let score =0;
      let lastCheck =12;
      var treasureLocation=Math.floor(Math.random()* 25)
      console.log(treasureLocation)
      function resetGame() {
                treasureLocation = Math.floor(Math.random() * 25)
                while(treasureLocation == 12) {
                    treasureLocation = Math.floor(Math.random() * 25)
                }
                chestCount = 0
                score = 0
                document.getElementById("chests").innerHTML = "Number of chests checked is zero"
                document.getElementById("score").innerHTML = "Score is unknown"
                for(let i = 0; i < 25; i++) {
                    if(i != 12) {
                        document.getElementById(ids[i]).src = "closed.jpg"
                    }
                }
            }
      function check(position){
        // console.log("Chest Clicked\nPosition: " + position + "	ID: " +ids[position])
        let chest_id = ids[position];
        if (position==treasureLocation){
          document.getElementById(chest_id).src = "openchest.jpg"
          score+=1;
        }else{
          document.getElementById(chest_id).src = "none.jpg"
        }
        score += 1;
        chestCount+=1;
        document.getElementById("chests").innerHTML = "Number of chests checked is "+chestCount;
        document.getElementById("score").innerHTML = "Your score  is :: " +score;
        lastCheck = position;
        //just to make sure
        console.log("Chest Count: "+chestCount + "\nScore: "+ score + "\nLast Checked: "+ lastCheck)
      }
      function help(){
        let last_check_row = Math.floor(lastCheck/5);
        let last_check_col = lastCheck%5;
        let treasure_row = Math.floor(treasureLocation/5);
        let treasure_col = treasureLocation%5;
  
        let doc = document.getElementById("help")
        if(treasure_col == last_check_col && treasure_row == last_check_row){
          doc.innerHTML = "You already won, NO help Available"
        }else if(treasure_col == last_check_col){
          score += 2;
          if(treasure_row<last_check_row){
            doc.innerHTML = "UP"
          }
          if(treasure_row>last_check_row){
            doc.innerHTML = "DOWN"
          }
        }else if(treasure_row == last_check_row){
          score += 2;
          if(treasure_col < last_check_col){
            doc.innerHTML = "Left"
          }
          if(treasure_col>last_check_col){
            doc.innerHTML = "Right"
          }
        }else{
          doc.innerHTML = "Sorry NO Help Available"
        }
        document.getElementById("score").innerHTML = "Your score  is :: " +score;
      }
    </script>
      
</body>
</html>